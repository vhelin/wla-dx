
;»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»
; common vbi wait routines
; written by ville helin <vhelin@cc.hut.fi> in 2001
;»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»

;»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»
; wait for vbi by polling the lcd y-coordinate register
; A - destroyed
;»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»»

.SECTION "vbi_wait_power"

VBI_WAIT_POWER:
	ldh	a, ($44)			; $44 == r_ly
	cp	$90
	jr	nz, VBI_WAIT_POWER
	ret

.ENDS

.section "vbi_dummy"
VBI_DUMMY:
.include "src/nop.s"
.ends
